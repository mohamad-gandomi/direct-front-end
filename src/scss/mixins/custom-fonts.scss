//---------------------------------------------
//
//  Mixin: Custom Fonts
//
//    1. Custom fonts names for font files
//    2. Loading a single font
//    3. Loading multiple fonts
//
//---------------------------------------------

//---------------------------------------------
// 1. Custom fonts names for font files
//---------------------------------------------

$fontWeightNames: (
  100: "Thin",
  200: "ExtraLight",
  300: "Light",
  400: "Regular",
  500: "Medium",
  600: "SemiBold",
  700: "Bold",
  800: "ExtraBold"
);

//---------------------------------------------
// 2. Loading a single font
//---------------------------------------------

@mixin customFont($font) {
  $fontFamily: map-get($font, "name");
  $folderName: map-get($font, "folder");
  $fileName: map-get($font, "files");
  $weights: map-get($font, "weights");

  @each $weight in $weights {
    $weightName: map-get($fontWeightNames, $weight);

    // Check if the font files exist before including them
    $eotPath: "../../fonts/#{$folderName}/#{$fileName}-#{$weightName}.eot";
    $woff2Path: "../../fonts/#{$folderName}/#{$fileName}-#{$weightName}.woff2";
    $woffPath: "../../fonts/#{$folderName}/#{$fileName}-#{$weightName}.woff";
    $ttfPath: "../../fonts/#{$folderName}/#{$fileName}-#{$weightName}.ttf";
    $svgPath: "../../fonts/#{$folderName}/#{$fileName}-#{$weightName}.svg";

    @if file-exists($eotPath) or file-exists($woff2Path) or file-exists($woffPath) or file-exists($ttfPath) or file-exists($svgPath) {
      @font-face {
        font-family: "#{$fontFamily}";
        font-weight: $weight;
        font-display: swap;

        @if file-exists($eotPath) {
          src: url("#{$eotPath}") format('embedded-opentype');
        }

        @if file-exists($woff2Path) {
          src: url("#{$woff2Path}") format('woff2');
        }

        @if file-exists($woffPath) {
          src: url("#{$woffPath}") format('woff');
        }

        @if file-exists($ttfPath) {
          src: url("#{$ttfPath}") format('truetype');
        }

        @if file-exists($svgPath) {
          src: url("#{$svgPath}") format('svg');
        }
      }
    }
  }
}

//---------------------------------------------
// 3. Loading multiple fonts
//---------------------------------------------

@mixin customFonts($fonts) {
  @each $font in $fonts {
    @include customFont($font);
  }
}
